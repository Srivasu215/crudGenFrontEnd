const i="bin",d={GetUrl:i},m=async()=>{let a=L({inGetKey:"inRowPk"});return a===null?(alert("need inRowPk in URL "),await!1):await await(await fetch(`/${d.GetUrl}/${jVarGlobalTableName}/${a}`)).json()};let L=({inGetKey:a})=>{const e=window.location.search;return new URLSearchParams(e).get(a)};const j=async()=>await m(),h=async()=>{let a=await j();return a===!1?await!1:(V({inDataAsObject:a}),f(),a)},V=({inDataAsObject:a})=>{document.getElementById("FormId").querySelectorAll("input").forEach(l=>{l.name in a&&(l.value=a[l.name])})},f=()=>{document.getElementById("BsSubTableRefreshId").click()},b="bin",S={PostUrl:b};let F=async()=>{let a=S.PostUrl,e=jVarGlobalSubTableName,t=w({inGetKey:"inRowPk"}),l=`/${a}/${e}/FilterData/RefPK/${t}`;return await await fetch(l)},w=({inGetKey:a})=>{const e=window.location.search;return new URLSearchParams(e).get(a)},y=()=>{let e=document.getElementById("FormId").querySelectorAll("[required]"),t=!0;return e.forEach(l=>{if(l.value.trim().length===0){l.classList.add("is-invalid"),t=!1;return}}),t},g=({inData:a})=>{let e=jVarGlobalSubTableTagId,r=[...document.getElementById(`${e}`).querySelectorAll("thead th")].map(n=>n.dataset.field);R({inData:a,inColumnKeys:r,inTableId:e})},R=({inData:a,inColumnKeys:e,inTableId:t})=>{let l=t,r=document.getElementById(`${l}`),n=e;a.forEach(c=>{let s=r.insertRow(-1);for(var o=0;o<n.length;o++){var u=s.insertCell(-1);u.innerHTML=c[n[o]]}})},I=async()=>{if(y()){let e=await F();if(e.status===200){let t=await e.json();t&&g({inData:t})}}},T=()=>{let a=document.getElementById("BsSubTableRefreshId");a!==null&&a.addEventListener("click",I)},$=()=>{T()};const P=async()=>{h().then(),$()},B=()=>{P()};B();
