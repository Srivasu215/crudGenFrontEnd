import"./style-CWPg30Uh.js";import"./EntryFile-BS4wfFeh.js";let l=async()=>{document.getElementById("RefreshBSTableId").click()};const r="bin",s={routePath:r};let c=async()=>{let t=jVarGlobalTableName,e=jVarGlobalFolderName,n=`/${s.routePath}/${e}/${t}/DataOnly`;return await await fetch(n)},d=t=>{let e=t;var a=$("#table");a.bootstrapTable("load",e)},i=async()=>{let t=await c();t.status===200&&d(await t.json())},u=()=>{let t=document.getElementById("RefreshBSTableId");t!==null&&t.addEventListener("click",i)},m=()=>{u()};const L={"data-toolbar":"#toolbar","data-search":"true","data-searchable":"true","data-id-field":"pk"},f={tableAttributes:L},j=()=>{var t=$("#table");t.attr(f.tableAttributes)},b=()=>{j(),F().then()},F=async()=>{var t=$("#table");t.bootstrapTable({data:[]})},I=()=>{b(),m()},y=()=>h("KSToken")!=="",h=t=>document.cookie.split("; ").reduce((e,a)=>a.startsWith(t+"=")?a.split("=")[1]:e,""),V=()=>{const t=document.getElementById("LoginModalId");t.addEventListener("shown.bs.modal",function(){document.getElementById("UsernameId").focus()}),new bootstrap.Modal(t,{focus:!0}).show()};let S=()=>!(g()===!1||B()===!1);const g=()=>{let t=document.getElementById("UsernameId");return t.value===""?(t.classList.add("is-invalid"),t.focus(),!1):(t.value!==""&&t.classList.remove("is-invalid"),!0)},B=()=>{let t=document.getElementById("PasswordId");return t.value===""?(t.classList.add("is-invalid"),t.focus(),!1):(t.value!==""&&t.classList.remove("is-invalid"),!0)},v="POST",p={Accept:"application/json","Content-Type":"application/json"},w="",o={method:v,headers:p,body:w};let E=()=>{let t={},e=document.getElementById("UsernameId").value,a=document.getElementById("PasswordId").value;return t.UserName=e,t.Password=a,t},k=()=>(o.body=JSON.stringify(E()),o),T=async()=>{let t=k();return await await fetch("/Login/bin/CreateToken/UsingJwt",t)},P=async({Status:t,inSuccessFunc:e})=>{let a=t;a.status===200&&(A(),e(),console.log("inSuccessFunc",e)),a.status===401&&C()},A=()=>{const t=document.getElementById("LoginModalId"),e=bootstrap.Modal.getInstance(t);e&&e.hide()},C=()=>{let t=document.getElementById("UsernameId"),e=document.getElementById("PasswordId");t.classList.add("is-invalid"),e.classList.add("is-invalid")},M=async({inSuccessFunc:t})=>{if(S()){let e=await T();P({Status:e,inSuccessFunc:t})}},U=({inSuccessFunc:t})=>{document.getElementById("LoginButtonId").addEventListener("click",async()=>{await M({inSuccessFunc:t})})},N=({inSuccessFunc:t})=>{U({inSuccessFunc:t})};const R=({inSuccessFunc:t})=>{if(y()===!0)return!0;V(),N({inSuccessFunc:t})},J=async()=>{I(),await R({inSuccessFunc:l})&&l().then()};J();
