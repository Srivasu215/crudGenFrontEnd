import"./style-CWPg30Uh.js";import"./EntryFile-BS4wfFeh.js";/* empty css               */const s="POST",d="",n={method:s,body:d};let i=()=>{let t=document.getElementById("FormId");var e=new FormData(t);return e.append("image",u()),n.body=e,n};const u=()=>{var t=document.createElement("canvas"),e=document.getElementById("photo");t.height=e.naturalHeight,t.width=e.naturalWidth;var a=t.getContext("2d");a.drawImage(e,0,0,t.width,t.height);var o=t.toDataURL();return o},m="bin",h={PostUrl:m};let g=async()=>{let t=h.PostUrl,e=jVarGlobalTableName,a=i(),o=`/${t}/${e}/UploadImageAsData`;return await await fetch(o,a)},f=()=>{let e=document.getElementById("FormId").querySelectorAll("[required]"),a=!0;return e.forEach(o=>{if(o.value.trim().length===0){o.classList.add("is-invalid"),a=!1;return}}),a};const F="Show.html",L="CreateCameraOnModal.html",r={RedirectToUrl:F,PresentUrl:L};let v=()=>{S()===!1&&b()};const S=()=>window.location.pathname.endsWith(`/${r.PresentUrl}`)?(window.location.href=`${r.RedirectToUrl}`,!0):!1,b=()=>{let t=`${jVarGlobalTableName}${r.RedirectToUrl}`;window.location.href=t};let w=async()=>{f()&&(await g()).status===200&&v()},y=()=>{let t=document.getElementById("SaveButtonId");t!==null&&t.addEventListener("click",w)},$=()=>{const t={audio:!1,video:{width:700,height:500}};navigator.mediaDevices.getUserMedia(t).then(e=>{const a=document.querySelector("video");a.srcObject=e,a.play()}).catch(e=>{console.error(`${e.name}: ${e.message}`)}),I()};const I=()=>{const t=new bootstrap.Modal("#exampleModal",{keyboard:!1});document.getElementById("toggleMyModal"),t.show()};let j=()=>{let t=document.getElementById("CameraId");t!==null&&t.addEventListener("click",$)},p=t=>{console.log("this : ",t),U(),t.preventDefault()};function U(){const t=document.getElementById("canvas"),e=t.getContext("2d"),a=320,o=300,l=document.getElementById("photo");{t.width=a,t.height=o,e.drawImage(video,0,0,a,o);const c=t.toDataURL("image/png");l.setAttribute("src",c)}}let V=()=>{let t=document.getElementById("startbutton");t!==null&&t.addEventListener("click",p)},E=t=>{const e=t.currentTarget,a=320;let o=0,l=!1;l||(o=e.videoHeight/(e.videoWidth/a),isNaN(o)&&(o=a/(4/3)),e.setAttribute("width",a),e.setAttribute("height",o),canvas.setAttribute("width",a),canvas.setAttribute("height",o),l=!0)},T=()=>{let t=document.getElementById("video");t!==null&&t.addEventListener("canplay",E,!1)},B=()=>{y(),j(),V(),T()};const R=()=>{B()},D=()=>{R()};D();
