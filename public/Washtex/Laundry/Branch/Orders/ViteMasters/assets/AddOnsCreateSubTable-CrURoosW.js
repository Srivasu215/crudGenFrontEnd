import"./style-CWPg30Uh.js";import"./EntryFile-BS4wfFeh.js";const GetUrl="bin",ConfigJson={GetUrl},StartFunc$s=async()=>{let t=getUrlQueryParams$2({inGetKey:"inRowPk"});return t===null?(alert("need inRowPk in URL "),await!1):await await(await fetch(`/${ConfigJson.GetUrl}/${jVarGlobalTableName}/${t}`)).json()};let getUrlQueryParams$2=({inGetKey:t})=>{const e=window.location.search;return new URLSearchParams(e).get(t)};const StartFunc$r=async()=>await StartFunc$s(),StartFunc$q=async()=>{let t=await StartFunc$r();return t===!1?await!1:(jFLocalShowInInputs({inDataAsObject:t}),jFBsRefereshId(),t)},jFLocalShowInInputs=({inDataAsObject:t})=>{document.getElementById("FormId").querySelectorAll("input").forEach(r=>{r.name in t&&(r.value=t[r.name])})},jFBsRefereshId=()=>{document.getElementById("BsSubTableRefreshId").click()},tableAttributes={"data-toolbar":"#ToolBarFixed","data-search":"true","data-searchable":"true","data-show-footer":"true","data-id-field":"pk"},AttributesJson={tableAttributes},StartFunc$p=()=>{var t=$("#table");t.attr(AttributesJson.tableAttributes)},method$1="POST",headers$1={Accept:"application/json","Content-Type":"application/json"},body$1="",KeysJson$1={method:method$1,headers:headers$1,body:body$1},StartFunc$o=()=>{let t=jVarGlobalSubTableTagId,r=document.getElementById(t).querySelector("tfoot").querySelectorAll("input"),l={};for(const o of r)l[o.name]=o.value;return l};let StartFunc$n=()=>{let t=StartFunc$o();return t.RefPK=getUrlQueryParams$1({inGetKey:"inRowPk"}),KeysJson$1.body=JSON.stringify(t),KeysJson$1},getUrlQueryParams$1=({inGetKey:t})=>{const e=window.location.search;return new URLSearchParams(e).get(t)},StartFunc$m=async()=>{let t=jVarGlobalSubTableName,e=StartFunc$n(),a=`/bin/${t}`;return await await fetch(a,e)},StartFunc$l=()=>{document.getElementById("BsSubTableRefreshId").click()},StartFunc$k=async()=>{(await StartFunc$m()).status===200&&StartFunc$l()};const StartFunc$j=()=>{StartFunc$k()};let StartFunc$i=()=>{let t=document.getElementById("SubTableFooterSaveButtonId");t!==null&&t.addEventListener("click",StartFunc$j)},KSEval={};const StartFunc$h=evt=>{let value=evt.key,jVarLocalCurrentTarget=evt.currentTarget,jVarLocalDataSet=jVarLocalCurrentTarget.dataset,jVarLocalEvalString=jVarLocalDataSet.ksclienteval;value==="Enter"&&(jFLocalInputValuesToOject(),jVarLocalCurrentTarget.value=eval(jVarLocalEvalString))},jFLocalInputValuesToOject=()=>{let t=jVarGlobalSubTableTagId;document.getElementById(t).querySelectorAll("tfoot input").forEach(r=>{if(r.type==="number"){KSEval[r.name]=parseInt(r.value);return}KSEval[r.name]=r.value})},StartFunc$g=()=>{StartFunc$i(),jFLocalKeyPress(),jFLocalSetFocusToFirstInput()},jFLocalSetFocusToFirstInput=()=>{let t=jVarGlobalSubTableTagId;document.getElementById(t).querySelector("tfoot input").focus()},jFLocalKeyPress=()=>{let t=jVarGlobalSubTableTagId,a=document.getElementById(t).querySelectorAll("tfoot input[data-ksclienteval]");a.length>0&&a.forEach(r=>{r.addEventListener("keypress",StartFunc$h)})},StartFunc$f=async()=>{let t=jVarGlobalSubTableTagId;var e=$(`#${t}`);e.bootstrapTable({data:[],onPostBody:StartFunc$g})},StartFunc$e=()=>{StartFunc$p(),StartFunc$f().then()},method="POST",headers={Accept:"application/json","Content-Type":"application/json"},body="",KeysJson={method,headers,body};let StartFunc$d=()=>{let t=document.getElementById("FormId");return KeysJson.body=JSON.stringify(jFLocalserializeFormData(t)),KeysJson};function jFLocalserializeFormData(t){var e=new FormData(t),a={};for(var[r,l]of e)a[r]?(Array.isArray(a[r])||(a[r]=[a[r]]),a[r].push(l)):a[r]=l;return a}const PostUrl$1="bin",UrlJson$2={PostUrl:PostUrl$1};let StartFunc$c=async()=>{let t=UrlJson$2.PostUrl,e=jVarGlobalTableName,a=StartFunc$d(),r=`/${t}/${e}`;return await await(await fetch(r,a)).json()},StartFunc$b=()=>{let e=document.getElementById("FormId").querySelectorAll("[required]"),a=!0;return e.forEach(r=>{if(r.value.trim().length===0){r.classList.add("is-invalid"),a=!1;return}}),a};const RedirectToUrl="ShowSimple.html",UrlJson$1={RedirectToUrl};let StartFunc$a=()=>{window.location.href=`${jVarGlobalTableName}${UrlJson$1.RedirectToUrl}`},StartFunc$9=async()=>{if(StartFunc$b()){let e=await StartFunc$c();e!==null&&e&&StartFunc$a()}},StartFunc$8=()=>{let t=document.getElementById("SaveButtonId");t!==null&&t.addEventListener("click",StartFunc$9)};const PostUrl="bin",UrlJson={PostUrl};let StartFunc$7=async()=>{let t=UrlJson.PostUrl,e=jVarGlobalSubTableName,a=getUrlQueryParams({inGetKey:"inRowPk"}),r=`/${t}/${e}/FilterData/RefPK/${a}`;return await await fetch(r)},getUrlQueryParams=({inGetKey:t})=>{const e=window.location.search;return new URLSearchParams(e).get(t)},StartFunc$6=()=>{let e=document.getElementById("FormId").querySelectorAll("[required]"),a=!0;return e.forEach(r=>{if(r.value.trim().length===0){r.classList.add("is-invalid"),a=!1;return}}),a},StartFunc$5=({InData:t})=>{let e=jVarGlobalSubTableTagId;console.log("InData:",t);var a=$(`#${e}`);a.bootstrapTable("load",t)},StartFunc$4=async()=>{if(StartFunc$6()){let e=await StartFunc$7();if(e.status===200){let a=await e.json();a&&StartFunc$5({InData:a})}}},StartFunc$3=()=>{let t=document.getElementById("BsSubTableRefreshId");t!==null&&t.addEventListener("click",StartFunc$4)},StartFunc$2=()=>{StartFunc$8(),StartFunc$3()};const StartFunc$1=async()=>{StartFunc$q().then(),StartFunc$e(),StartFunc$2(),jFLocalFillDataLists()},jFLocalFillDataLists=()=>{document.getElementById("HeaderToDataListId").click()},StartFunc=()=>{StartFunc$1()};StartFunc();
